# å½©ç¥¨ AI é¢„æµ‹ç³»ç»Ÿ v2.0

> **é‡è¦å£°æ˜**ï¼šå½©ç¥¨ç†è®ºä¸Šå±äºå®Œå…¨éšæœºäº‹ä»¶ï¼Œä»»ä½•ä¸€ç§å•ä¸€ç®—æ³•éƒ½ä¸å¯èƒ½ç²¾ç¡®é¢„æµ‹å½©ç¥¨ç»“æœï¼æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·åˆç†æŠ•èµ„ï¼Œåˆ‡å‹¿æ²‰è¿·ï¼

åŸºäºæ·±åº¦å­¦ä¹ æŠ€æœ¯çš„å½©ç¥¨å·ç é¢„æµ‹ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§å½©ç¥¨ç±»å‹çš„æ•°æ®åˆ†æå’Œå·ç é¢„æµ‹ã€‚

> [KL8-Lottery-Analyzer (GitHub)](https://github.com/KittenCN/kl8-lottery-analyzer)
>
> æœ¬ä»“åº“ä¸å†åŒ…å« KL8 æ•°æ®å’Œåˆ†æç›¸å…³çš„æ ¸å¿ƒç®—æ³•ã€æ•°æ®å¤„ç†å’Œåˆ†æåŠŸèƒ½ï¼Œåç»­ KL8 ç›¸å…³æ›´æ–°è¯·å…³æ³¨æ–°é¡¹ç›®ã€‚

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

- ğŸ“Š æ”¯æŒå¤šç§å½©ç¥¨ï¼šåŒè‰²çƒã€å¤§ä¹é€ã€æ’åˆ—ä¸‰ã€ä¸ƒæ˜Ÿå½©ã€ç¦å½© 3D
- ğŸ§  åŸºäºå¤šå±‚ LSTM çš„åºåˆ—å»ºæ¨¡æ–¹æ¡ˆ
- ğŸ”„ è‡ªåŠ¨æ•°æ®è·å–å’Œå¤„ç†
- ğŸ“ˆ å¤šç»´åº¦æ•°æ®åˆ†æ
- ğŸ³ Docker å®¹å™¨åŒ–æ”¯æŒ
- ğŸ› ï¸ å®Œæ•´çš„å¼€å‘å·¥å…·é“¾

> \*\*é‡è¦è¯´æ˜ï¼šKL8ï¼ˆå¿«ä¹ 8ï¼‰æ•°æ®å’Œåˆ†æåŠŸèƒ½å·²äº 2025 å¹´ 10 æœˆç‹¬ç«‹ä¸ºæ–°é¡¹ç›®ç»´æŠ¤ï¼ŒåŸæœ‰ KL8 æ•°æ®å’Œåˆ†æç›¸å…³æºç å·²å…¨éƒ¨è¿ç§»ã€‚è¯·å‰å¾€æ–°é¡¹ç›®ä»“åº“è·å–å’Œä½¿ç”¨ï¼š
>
> [KL8-Lottery-Analyzer (GitHub)](https://github.com/KittenCN/kl8-lottery-analyzer)
>
> æœ¬ä»“åº“ä¸å†åŒ…å« KL8 æ•°æ®å’Œåˆ†æç›¸å…³çš„æ ¸å¿ƒç®—æ³•ã€æ•°æ®å¤„ç†å’Œåˆ†æåŠŸèƒ½ï¼Œåç»­ KL8 ç›¸å…³æ›´æ–°è¯·å…³æ³¨æ–°é¡¹ç›®ã€‚

> **2024-06 é¢„æµ‹é€»è¾‘ä¿®æ­£è¯´æ˜**ï¼šåŒè‰²çƒç­‰ç©æ³•çš„çº¢çƒé¢„æµ‹ç»“æœå·²ä¿®æ­£ä¸ºâ€œæ¯æ³¨çº¢çƒå·ç å”¯ä¸€â€ï¼Œå½»åº•é¿å…é‡å¤çº¢çƒã€‚è¯¦è§ `src/pipeline.py`ã€‚

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/KittenCN/predict_Lottery_ticket.git
cd predict_Lottery_ticket

# 2. åˆ›å»º conda ç¯å¢ƒ
conda create -n python311 python=3.11
conda activate python311

# 3. å®‰è£…ä¾èµ–ï¼ˆæ¨èï¼šä½¿ç”¨ conda + pip é”å®šæ–¹æ¡ˆï¼‰
#  - `environment.yml` ç”¨äºé€šè¿‡ conda å®‰è£…äºŒè¿›åˆ¶ä¾èµ–ï¼ˆnumpyã€tensorflow-intelã€pytorch ç­‰ï¼‰
#  - `requirements.lock.txt` åŒ…å«å¯ç§»æ¤çš„ pip åŒ…ç²¾ç¡®ç‰ˆæœ¬
# ç¤ºä¾‹ï¼ˆåœ¨ä»“åº“æ ¹ç›®å½•è¿è¡Œï¼‰:
conda env create -f environment.yml
conda activate predict_lottery
python -m pip install -r requirements.lock.txt

# å…¼å®¹æ€§ shim
# é¡¹ç›®åœ¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åŠ è½½ `src.bootstrap`ï¼Œè¯¥æ¨¡å—åœ¨å¯¼å…¥ç¬¬ä¸‰æ–¹åº“å‰
# ä¸º TensorFlow/Keras æä¾›å¿…è¦çš„å…¼å®¹æ˜ å°„ï¼ˆä¾‹å¦‚ RaggedTensorValueï¼‰ï¼Œä»¥
# å‡å°‘å› ç¯å¢ƒå·®å¼‚å¯¼è‡´çš„å¯¼å…¥/å¼ƒç”¨é—®é¢˜ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```

### 2. æ•°æ®è·å–

```bash
# è·å–åŒè‰²çƒæ•°æ®
make get-data
# æˆ–æ‰‹åŠ¨æ‰§è¡Œ
python scripts/get_data.py --name ssq
```

### 3. æ¨¡å‹è®­ç»ƒ

```bash
# è®­ç»ƒåŒè‰²çƒæ¨¡å‹ï¼ˆä½¿ç”¨çª—å£å¤§å° 5ï¼Œçº¢çƒ 60 è½®ï¼‰
make train
# æˆ–æ‰‹åŠ¨æ‰§è¡Œ
python scripts/train.py --name ssq --window-size 5 --red-epochs 60
```

### 4. é¢„æµ‹

```bash

```

# è¿è¡Œé¢„æµ‹å¹¶ä¿å­˜ç»“æœ

make predict

# æˆ–æ‰‹åŠ¨æ‰§è¡Œ

python scripts/predict.py --name ssq --window-size 5 --save

```
> __æœ‰äº›æœ‹å‹å‘æ¶ˆæ¯é—®æˆ‘æœ€è¿‘ï¼ˆ2023.12.03ï¼‰å‘ç”Ÿçš„å¿«8é€‰7ä¸­50000å€çš„å¯èƒ½æ€§ï¼Œè¿™ä¹ˆè¯´ï¼Œè¿™ä¸ªäº‹å…¶å®ä¹Ÿè·Ÿå…¶ä»–æœ‹å‹é—®æˆ‘ä¸ºå•¥æœ€è¿‘å¼€å§‹ç ”ç©¶ç»Ÿè®¡å­¦çš„åº”ç”¨æ˜¯åŒä¸€ä¸ªåŸå› ï¼Œå› ä¸ºæˆ‘æ—©å‡ ä¸ªæœˆä¹Ÿå‘ç°äº†ï¼Œçº¯ç²¹çš„æŸäº›ç‰¹å®šçš„ç»Ÿè®¡å­¦ç®—æ³•ï¼Œå°±å¯ä»¥ä½¿å¾—å¿«8é€‰7çš„å¹³å‡è¿”å¥–ç‡ç»´æŒåœ¨60%å·¦å³ï¼Œå¦‚æœå†è¿ç”¨çƒ­åŠ›å›¾ï¼Œåˆ†å¸ƒå¾‹ç­‰ç‰¹æ®Šçš„ç­–ç•¥ï¼Œè¿˜èƒ½ä½¿å¾—è¿”å¥–ç‡åœ¨ä¸€å®šèŒƒå›´å†…ç»´æŒæ›´é«˜ã€‚æˆ‘å½“æ—¶ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¹Ÿè·å¾—äº†ä¸€å®šçš„æ”¶ç›Šã€‚å½“ç„¶è¿™ä¸ªæ–¹æ³•æ˜¯é«˜æŠ•å…¥å‹çš„ï¼Œéœ€è¦é•¿æœŸç¨³å®šçš„é«˜æŠ•å…¥ï¼Œæ‰€ä»¥ä¸æ˜¯æˆ‘æƒ³è¦çš„ç®—æ³•ï¼Œä¹Ÿå°±æ²¡æœ‰åœ¨è¿™é‡Œæ¨èï¼Œè€Œæ˜¯æ‰“ç®—ä½œä¸ºç¥ç»ç½‘ç»œçš„æ•°æ®é¢„å¤„ç†ç®—æ³•æ¥ç”¨__
---
> __è‡³äºè¿™æ¬¡äº‹æƒ…çš„å•æ³¨50000å€ç©æ³•ï¼Œä¸ç®¡ä½ ä¿¡ä¸ä¿¡ï¼Œæˆ‘æ˜¯ä¸ä¿¡çš„ã€‚__

>- http://localhost:8000/prediction_20251021-112311.html.   visit to view
## ğŸ“ é¡¹ç›®ç»“æ„

```

predict_Lottery_ticket/
â”œâ”€ src/ # æ ¸å¿ƒæºç 
â”‚ â”œâ”€ **init**.py
â”‚ â”œâ”€ common.py # é«˜å±‚æ¥å£å°è£…
â”‚ â”œâ”€ config.py # é…ç½®/è¶…å‚ç®¡ç†
â”‚ â”œâ”€ data_fetcher.py # å†å²æ•°æ®æŠ“å–
â”‚ â”œâ”€ preprocessing.py # æ•°æ®é¢„å¤„ç†
â”‚ â”œâ”€ modeling.py # TensorFlow æ¨¡å‹å®šä¹‰
â”‚ â”œâ”€ pipeline.py # è®­ç»ƒä¸é¢„æµ‹æµç¨‹
â”‚ â”œâ”€ analysis.py # æ•°æ®åˆ†æ
â”‚ â””â”€ analysis/ # åˆ†æå·¥å…·
â”œâ”€ scripts/ # æ‰§è¡Œè„šæœ¬
â”‚ â”œâ”€ get_data.py # æ•°æ®è·å–
â”‚ â”œâ”€ train.py # æ¨¡å‹è®­ç»ƒ
â”‚ â””â”€ predict.py # é¢„æµ‹è„šæœ¬
â”œâ”€ tests/ # å•å…ƒæµ‹è¯•
â”œâ”€ examples/ # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€ config/ # é…ç½®æ¨¡æ¿
â”œâ”€ docs/ # é¡¹ç›®æ–‡æ¡£
â”œâ”€ Makefile # ä¸€é”®ä»»åŠ¡
â”œâ”€ Dockerfile # å®¹å™¨åŒ–
â””â”€ docker-compose.yml # æœåŠ¡ç¼–æ’

````


## ğŸ¯ æ”¯æŒçš„å½©ç¥¨ç±»å‹

| å½©ç¥¨ç±»å‹ | ä»£ç  | è¯´æ˜ |
|---------|------|------|
| åŒè‰²çƒ | ssq | 6çº¢çƒ+1è“çƒ |
| å¤§ä¹é€ | dlt | 5çº¢çƒ+2è“çƒ |
| æ’åˆ—ä¸‰ | pls | 3ä½æ•°å­— |
| ä¸ƒæ˜Ÿå½© | qxc | 7ä½æ•°å­— |
| ç¦å½©3D | sd | 3ä½æ•°å­— |

> **KL8ï¼ˆå¿«ä¹8ï¼‰ç©æ³•å·²è¿ç§»è‡³ç‹¬ç«‹é¡¹ç›® [KL8-Lottery-Analyzer](https://github.com/KittenCN/kl8-lottery-analyzer)**

## ğŸ”§ æŠ€æœ¯æ¶æ„

- **æ·±åº¦å­¦ä¹ æ¡†æ¶**: TensorFlow 2.15.1 + Keras 2.15
- **æ¨¡å‹æ¶æ„**: å¤šå±‚ LSTM + Softmax åˆ†ç±»
- **æ•°æ®å¤„ç†**: Pandas, NumPy
- **å¯è§†åŒ–**: Matplotlib
- **æ—¥å¿—**: Loguru
- **å®¹å™¨åŒ–**: Docker

## ğŸ› ï¸ Makefile å‘½ä»¤

```bash
make setup      # å®‰è£…ä¾èµ–å’Œåˆå§‹åŒ–ç¯å¢ƒ
make fmt        # ä»£ç æ ¼å¼åŒ–
make lint       # ruff + mypy é™æ€æ£€æŸ¥
make test       # pytest --cov è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡
make run        # è¿è¡Œç¤ºä¾‹
make build      # æ„å»ºé¡¹ç›®
make ci         # å®Œæ•´CIæµç¨‹
make get-data   # è·å–æ•°æ®
make train      # è®­ç»ƒæ¨¡å‹
make predict    # è¿è¡Œé¢„æµ‹
make clean      # æ¸…ç†æ–‡ä»¶
````

## ğŸ“Š æ¨¡å‹å‚æ•°

ä¸»è¦å‚æ•°é…ç½®åœ¨ `src/config.py` çš„ `LOTTERY_CONFIGS` ä¸­ï¼š

- `windows_size`: æ—¶é—´çª—å£å¤§å°ï¼ˆé»˜è®¤ 3ï¼‰
- `batch_size`: æ‰¹å¤„ç†å¤§å°ï¼ˆé»˜è®¤ 32ï¼‰
- `red_epochs` / `blue_epochs`: è®­ç»ƒè½®æ•°
- `learning_rate`: å­¦ä¹ ç‡ï¼ˆé»˜è®¤ 5e-4~8e-4ï¼‰
- `SequenceModelSpec`: æ§åˆ¶åµŒå…¥ç»´åº¦ã€éšè—å±‚æ·±åº¦ä¸ dropout

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **è®­ç»ƒè¦æ±‚**: å¿…é¡»å…ˆç”¨ `get_data.py` ä¸‹è½½æ•°æ®ï¼Œå†è¿›è¡Œæ¨¡å‹è®­ç»ƒ
2. **ä¾èµ–ç‰ˆæœ¬**: é»˜è®¤ä¾èµ– TensorFlow 2.15.1ï¼ˆWindows/macOS/Linux å®˜æ–¹ wheel å¯ç”¨ï¼‰
3. **æ¨¡å‹æ ¼å¼**: æ¨¡å‹ä¿å­˜ä¸º `.keras`ï¼ˆSavedModelï¼‰ï¼Œæ—§ç‰ˆ `.ckpt` ä¸å†å…¼å®¹
4. **ç›®å½•ç»“æ„**: ç¡®ä¿ `data/`, `model/`, `predict/` ç›®å½•å­˜åœ¨
5. **çº¢çƒé¢„æµ‹å”¯ä¸€æ€§**: é¢„æµ‹ç»“æœå·²ç¡®ä¿æ¯æ³¨çº¢çƒå·ç å”¯ä¸€ï¼Œé¿å…é‡å¤ï¼ˆ2024-06 ä¿®æ­£ï¼‰ã€‚

## ğŸ³ Docker ä½¿ç”¨

```bash
# æ„å»ºé•œåƒ
docker build -t lottery-predict .

# è¿è¡Œå®¹å™¨
docker run -it --rm \
  -v $(pwd)/data:/app/data \
  -v $(pwd)/model:/app/model \
  -v $(pwd)/predict:/app/predict \
  lottery-predict

# ä½¿ç”¨ docker-compose
docker-compose up -d
```

## ğŸ“ æ›´æ–°æ—¥å¿—

è¯·æŸ¥çœ‹ [CHANGELOG.md](CHANGELOG.md) äº†è§£è¯¦ç»†æ›´æ–°è®°å½•ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/new-feature`
3. æäº¤æ›´æ”¹: `git commit -am 'Add new feature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/new-feature`
5. æäº¤ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æºï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

é¡¹ç›®åˆå§‹çµæ„Ÿæ¥è‡ª [zepen](https://github.com/zepen/predict_Lottery_ticket) çš„ä½œå“ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œäº†é‡æ„å’Œå¢å¼ºã€‚

---

**å…è´£å£°æ˜**: æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œä¸æ„æˆä»»ä½•æŠ•èµ„å»ºè®®ã€‚å½©ç¥¨æŠ•èµ„æœ‰é£é™©ï¼Œå‚ä¸éœ€è°¨æ…ã€‚
